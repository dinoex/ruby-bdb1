<?xml version="1.0" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>docs/hashlike1.rd</title>
</head>
<body>
<h2><a name="label:0" id="label:0">Acces Methods</a></h2><!-- RDLabel: "Acces Methods" -->
<p>These are the common methods for <var>BDB1::Btree</var>, <var>BDB1::Hash</var>,</p>
<ul>
<li><a href="#label:1">Class Methods</a></li>
<li><a href="#label:30">Methods</a></li>
</ul>
<h3><a name="label:1" id="label:1">Class Methods</a></h3><!-- RDLabel: "Class Methods" -->
<dl>
<dt><a name="label:2" id="label:2"><code>create([<var>name</var>, <var>flags</var>, <var>mode</var>, <var>options</var>])</code></a><!-- RDLabel: "create" -->
<dt><a name="label:3" id="label:3"><code>new([<var>name</var>, <var>flags</var>, <var>mode</var>, <var>options</var>])</code></a><!-- RDLabel: "new" -->
<dt><a name="label:4" id="label:4"><code>open([<var>name</var>, <var>flags</var>, <var>mode</var>, <var>options</var>])</code></a></dt><!-- RDLabel: "open" -->
<dd>
<p>open the database</p>
<dl>
<dt><a name="label:5" id="label:5"><var>name</var>
</a></dt><!-- RDLabel: "name
" -->
<dd>
<p>The argument name is used as the name of a single physical
file on disk that will be used to back the database.</p>
</dd>
<dt><a name="label:6" id="label:6"><var>flags</var>
</a></dt><!-- RDLabel: "flags
" -->
<dd>
<p>The flags must be the string "r", "r+", "w", "w+", "a", "a+" or
and integer value.</p>
<p>The flags value must be set to 0 or by bitwise inclusively
OR'ing together one or more of the following values</p>
<dl>
<dt><a name="label:7" id="label:7"><var>BDB1::CREATE</var>
</a></dt><!-- RDLabel: "BDB1::CREATE
" -->
<dd>
<p>Create any underlying files, as necessary. If the files
do not already exist and the DB_CREATE flag is not
specified, the call will fail. </p>
</dd>
<dt><a name="label:8" id="label:8"><var>BDB1::EXCL</var>
</a></dt><!-- RDLabel: "BDB1::EXCL
" -->
<dd>
<p>Return an error if the database already exists. Underlying
filesystem primitives are used to implement this
flag. For this reason it is only applicable to the
physical database file and cannot be used to test if a
subdatabase already exists. </p>
</dd>
<dt><a name="label:9" id="label:9"><var>BDB1::NOMMAP</var>
</a></dt><!-- RDLabel: "BDB1::NOMMAP
" -->
<dd>
<p>Do not map this database into process memory.</p>
</dd>
<dt><a name="label:10" id="label:10"><var>BDB1::RDONLY</var>
</a></dt><!-- RDLabel: "BDB1::RDONLY
" -->
<dd>
<p>Open the database for reading only. Any attempt to
modify items in the database will fail regardless of the
actual permissions of any underlying files. </p>
</dd>
<dt><a name="label:11" id="label:11"><var>BDB1::TRUNCATE</var>
</a></dt><!-- RDLabel: "BDB1::TRUNCATE
" -->
<dd>
<p>Physically truncate the underlying database file,
discarding all previous subdatabases or databases.
Underlying filesystem primitives are used to implement
this flag. For this reason it is only applicable to the
physical database file and cannot be used to discard
subdatabases.</p>
<p>The DB_TRUNCATE flag cannot be transaction protected,
and it is an error to specify it in a transaction
protected environment. </p>
</dd>
<dt><a name="label:12" id="label:12"><var>BDB1::WRITE</var>
</a></dt><!-- RDLabel: "BDB1::WRITE
" -->
<dd>
<p>Open the database for writing. Without this flag, any
attempt to modify items in the database will fail.</p>
</dd>
</dl>
</dd>
<dt><a name="label:13" id="label:13"><var>options for all classes</var>
</a></dt><!-- RDLabel: "options for all classes
" -->
<dd>
<p>Hash, Possible options are</p>
<dl>
<dt><a name="label:14" id="label:14"><var>set_flags</var>
</a></dt><!-- RDLabel: "set_flags
" -->
<dd>
<p>general database configuration</p>
</dd>
<dt><a name="label:15" id="label:15"><var>set_cachesize</var>
</a></dt><!-- RDLabel: "set_cachesize
" -->
<dd>
<p>set the database cache size</p>
</dd>
<dt><a name="label:16" id="label:16"><var>set_pagesize</var>
</a></dt><!-- RDLabel: "set_pagesize
" -->
<dd>
<p>set the underlying database page size</p>
</dd>
<dt><a name="label:17" id="label:17"><var>set_lorder</var>
</a></dt><!-- RDLabel: "set_lorder
" -->
<dd>
<p>set the database byte order</p>
</dd>
<dt><a name="label:18" id="label:18"><var>set_store_key</var>
</a></dt><!-- RDLabel: "set_store_key
" -->
<dd>
<p>specify a Proc called before a key is stored</p>
</dd>
<dt><a name="label:19" id="label:19"><var>set_fetch_key</var>
</a></dt><!-- RDLabel: "set_fetch_key
" -->
<dd>
<p>specify a Proc called after a key is read</p>
</dd>
<dt><a name="label:20" id="label:20"><var>set_store_value</var>
</a></dt><!-- RDLabel: "set_store_value
" -->
<dd>
<p>specify a Proc called before a value is stored</p>
</dd>
<dt><a name="label:21" id="label:21"><var>set_fetch_value</var>
</a></dt><!-- RDLabel: "set_fetch_value
" -->
<dd>
<p>specify a Proc called after a value is read</p>
</dd>
</dl>
</dd>
<dt><a name="label:22" id="label:22"><var>options specific to BDB1::Btree</var>
</a></dt><!-- RDLabel: "options specific to BDB1::Btree
" -->
<dd>
<dl>
<dt><a name="label:23" id="label:23"><var>set_bt_compare</var>
</a></dt><!-- RDLabel: "set_bt_compare
" -->
<dd>
<p>specify a Btree comparison function </p>
</dd>
<dt><a name="label:24" id="label:24"><var>set_bt_minkey</var>
</a></dt><!-- RDLabel: "set_bt_minkey
" -->
<dd>
<p>set the minimum number of keys per Btree page</p>
</dd>
<dt><a name="label:25" id="label:25"><var>set_bt_prefix</var>
</a></dt><!-- RDLabel: "set_bt_prefix
" -->
<dd>
<p>specify a Btree prefix comparison function </p>
</dd>
</dl>
</dd>
<dt><a name="label:26" id="label:26"><var>options specific to BDB1::Hash</var>
</a></dt><!-- RDLabel: "options specific to BDB1::Hash
" -->
<dd>
<dl>
<dt><a name="label:27" id="label:27"><var>set_h_ffactor</var>
</a></dt><!-- RDLabel: "set_h_ffactor
" -->
<dd>
<p>set the Hash table density</p>
</dd>
<dt><a name="label:28" id="label:28"><var>set_h_hash</var>
</a></dt><!-- RDLabel: "set_h_hash
" -->
<dd>
<p>specify a hashing function </p>
</dd>
<dt><a name="label:29" id="label:29"><var>set_h_nelem</var>
</a></dt><!-- RDLabel: "set_h_nelem
" -->
<dd>
<p>set the Hash table size</p>
</dd>
</dl>
</dd>
</dl></dd>
</dl>
<p>Proc given to <var>set_bt_compare</var>, <var>set_bt_prefix</var>, 
<var>set_h_hash</var>, <var>set_store_key</var>, <var>set_fetch_key</var>,
<var>set_store_value</var> and <var>set_fetch_value</var> can be also specified as
a method (replace the prefix <var>set_</var> with <var>bdb1_</var>)</p>
<p>For example </p>
<pre>module BDB1
   class Btreesort &lt; Btree
      def bdb1_bt_compare(a, b)
         b.downcase &lt;=&gt; a.downcase
      end
   end
end</pre>
<h3><a name="label:30" id="label:30">Methods</a></h3><!-- RDLabel: "Methods" -->
<dl>
<dt><a name="label:31" id="label:31"><code>self[key]</code></a></dt><!-- RDLabel: "self[key]" -->
<dd>
<p>Returns the value corresponding the <var>key</var></p></dd>
<dt><a name="label:32" id="label:32"><code>db_get(<var>key</var> [, <var>flags</var>])</code></a><!-- RDLabel: "db_get" -->
<dt><a name="label:33" id="label:33"><code>get(<var>key</var> [, <var>flags</var>])</code></a><!-- RDLabel: "get" -->
<dt><a name="label:34" id="label:34"><code>fetch(<var>key</var> [, <var>flags</var>])</code></a></dt><!-- RDLabel: "fetch" -->
<dd>
<p>Returns the value correspondind the <var>key</var></p></dd>
<dt><a name="label:35" id="label:35"><code>self[key] = <var>value</var></code></a></dt><!-- RDLabel: "self[key] = value" -->
<dd>
<p>Stores the <var>value</var> associating with <var>key</var></p>
<p>If <var>nil</var> is given as the value, the association from the key will be
removed. </p></dd>
<dt><a name="label:36" id="label:36"><code>db_put(<var>key</var>, <var>value</var> [, <var>flags</var>])</code></a><!-- RDLabel: "db_put" -->
<dt><a name="label:37" id="label:37"><code>put(<var>key</var>, <var>value</var> [, <var>flags</var>])</code></a><!-- RDLabel: "put" -->
<dt><a name="label:38" id="label:38"><code>store(<var>key</var>, <var>value</var> [, <var>flags</var>])</code></a></dt><!-- RDLabel: "store" -->
<dd>
<p>Stores the <var>value</var> associating with <var>key</var></p>
<p>If <var>nil</var> is given as the value, the association from the <var>key</var>
will be removed. It return the object deleted or <var>nil</var> if the
specified key don't exist.</p>
<p><var>flags</var> can have the value <var>DBD::NOOVERWRITE</var>, in this case
it will return <var>nil</var> if the specified key exist, otherwise <var>true</var></p></dd>
<dt><a name="label:39" id="label:39"><code>append(<var>key</var>, <var>value</var>)</code></a><!-- RDLabel: "append" -->
<dt><a name="label:40" id="label:40"><code>db_append(<var>key</var>, <var>value</var>)</code></a></dt><!-- RDLabel: "db_append" -->
<dd>
<p>Append the <var>value</var> associating with <var>key</var></p></dd>
<dt><a name="label:41" id="label:41"><code>byteswapped?</code></a><!-- RDLabel: "byteswapped?" -->
<dt><a name="label:42" id="label:42"><code>get_byteswapped</code></a></dt><!-- RDLabel: "get_byteswapped" -->
<dd>
<p>Return if the underlying database is in host order</p></dd>
<dt><a name="label:43" id="label:43"><code>close([<var>flags</var>])</code></a><!-- RDLabel: "close" -->
<dt><a name="label:44" id="label:44"><code>db_close([<var>flags</var>])</code></a></dt><!-- RDLabel: "db_close" -->
<dd>
<p>Closes the file.</p></dd>
<dt><a name="label:45" id="label:45"><code>delete(<var>key</var>)</code></a><!-- RDLabel: "delete" -->
<dt><a name="label:46" id="label:46"><code>db_del(<var>key</var>)</code></a></dt><!-- RDLabel: "db_del" -->
<dd>
<p>Removes the association from the key. </p>
<p>It return the object deleted or <var>nil</var> if the specified
key don't exist.</p></dd>
<dt><a name="label:47" id="label:47"><code>delete_if([<var>set</var>]) { |<var>key</var>, <var>value</var>| ... }</code></a><!-- RDLabel: "delete_if" -->
<dt><a name="label:48" id="label:48"><code>reject!([<var>set</var>]) { |<var>key</var>, <var>value</var>| ... }</code></a></dt><!-- RDLabel: "reject!" -->
<dd>
<p>Deletes associations if the evaluation of the block returns true. </p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:49" id="label:49"><code>duplicates(<var>key</var> [, <var>assoc</var> = <var>true</var>])</code></a></dt><!-- RDLabel: "duplicates" -->
<dd>
<p>Return an array of all duplicate associations for <var>key</var></p>
<p>if <var>assoc</var> is <var>false</var> return only the values.</p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:50" id="label:50"><code>each { |<var>key</var>, <var>value</var>| ... }</code></a><!-- RDLabel: "each" -->
<dt><a name="label:51" id="label:51"><code>each_pair { |<var>key</var>, <var>value</var>| ... }</code></a></dt><!-- RDLabel: "each_pair" -->
<dd>
<p>Iterates over associations.</p></dd>
<dt><a name="label:52" id="label:52"><code>each_dup(<var>key</var>) { |<var>key</var>, <var>value</var>| ... }</code></a></dt><!-- RDLabel: "each_dup" -->
<dd>
<p>Iterates over each duplicate associations for <var>key</var></p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:53" id="label:53"><code>each_dup_value(<var>key</var>) { |<var>value</var>| ... }</code></a></dt><!-- RDLabel: "each_dup_value" -->
<dd>
<p>Iterates over each duplicate values for <var>key</var></p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:54" id="label:54"><code>each_key { |<var>key</var>| ... }</code></a></dt><!-- RDLabel: "each_key" -->
<dd>
<p>Iterates over keys. </p></dd>
<dt><a name="label:55" id="label:55"><code>each_value { |<var>value</var>| ... }</code></a></dt><!-- RDLabel: "each_value" -->
<dd>
<p>Iterates over values. </p></dd>
<dt><a name="label:56" id="label:56"><code>empty?()</code></a></dt><!-- RDLabel: "empty?" -->
<dd>
<p>Returns true if the database is empty. </p></dd>
<dt><a name="label:57" id="label:57"><code>has_key?(<var>key</var>)</code></a><!-- RDLabel: "has_key?" -->
<dt><a name="label:58" id="label:58"><code>key?(<var>key</var>)</code></a><!-- RDLabel: "key?" -->
<dt><a name="label:59" id="label:59"><code>include?(<var>key</var>)</code></a><!-- RDLabel: "include?" -->
<dt><a name="label:60" id="label:60"><code>member?(<var>key</var>)</code></a></dt><!-- RDLabel: "member?" -->
<dd>
<p>Returns true if the association from the <var>key</var> exists.</p></dd>
<dt><a name="label:61" id="label:61"><code>has_both?(<var>key</var>, <var>value</var>)</code></a><!-- RDLabel: "has_both?" -->
<dt><a name="label:62" id="label:62"><code>both?(<var>key</var>, <var>value</var>)</code></a></dt><!-- RDLabel: "both?" -->
<dd>
<p>Returns true if the association from <var>key</var> is <var>value</var> </p></dd>
<dt><a name="label:63" id="label:63"><code>has_value?(<var>value</var>)</code></a><!-- RDLabel: "has_value?" -->
<dt><a name="label:64" id="label:64"><code>value?(<var>value</var>)</code></a></dt><!-- RDLabel: "value?" -->
<dd>
<p>Returns true if the association to the <var>value</var> exists. </p></dd>
<dt><a name="label:65" id="label:65"><code>index(<var>value</var>)</code></a></dt><!-- RDLabel: "index" -->
<dd>
<p>Returns the first <var>key</var> associated with <var>value</var></p></dd>
<dt><a name="label:66" id="label:66"><code>indexes(<var>value1</var>, <var>value2</var>, )</code></a></dt><!-- RDLabel: "indexes" -->
<dd>
<p>Returns the <var>keys</var> associated with <var>value1, value2, ...</var></p></dd>
<dt><a name="label:67" id="label:67"><code>keys</code></a></dt><!-- RDLabel: "keys" -->
<dd>
<p>Returns the array of the keys in the database</p></dd>
<dt><a name="label:68" id="label:68"><code>length</code></a><!-- RDLabel: "length" -->
<dt><a name="label:69" id="label:69"><code>size</code></a></dt><!-- RDLabel: "size" -->
<dd>
<p>Returns the number of association in the database.</p></dd>
<dt><a name="label:70" id="label:70"><code>reject { |<var>key</var>, <var>value</var>| ... }</code></a></dt><!-- RDLabel: "reject" -->
<dd>
<p>Create an hash without the associations if the evaluation of the
block returns true. </p></dd>
<dt><a name="label:71" id="label:71"><code>reverse_each([<var>set</var>]) { |<var>key</var>, <var>value</var>| ... }</code></a><!-- RDLabel: "reverse_each" -->
<dt><a name="label:72" id="label:72"><code>reverse_each_pair([<var>set</var>]) { |<var>key</var>, <var>value</var>| ... }</code></a></dt><!-- RDLabel: "reverse_each_pair" -->
<dd>
<p>Iterates over associations in reverse order </p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:73" id="label:73"><code>reverse_each_key([<var>set</var>]) { |<var>key</var>| ... }</code></a></dt><!-- RDLabel: "reverse_each_key" -->
<dd>
<p>Iterates over keys in reverse order </p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:74" id="label:74"><code>reverse_each_value([<var>set</var>]) { |<var>value</var>| ... }</code></a></dt><!-- RDLabel: "reverse_each_value" -->
<dd>
<p>Iterates over values in reverse order.</p>
<p>Only for <var>BDB1::Btree</var></p></dd>
<dt><a name="label:75" id="label:75"><code>to_a</code></a></dt><!-- RDLabel: "to_a" -->
<dd>
<p>Return an array of all associations [key, value]</p></dd>
<dt><a name="label:76" id="label:76"><code>to_hash</code></a></dt><!-- RDLabel: "to_hash" -->
<dd>
<p>Return an hash of all associations {key =&gt; value}</p></dd>
<dt><a name="label:77" id="label:77"><code>truncate</code></a><!-- RDLabel: "truncate" -->
<dt><a name="label:78" id="label:78"><code>clear</code></a></dt><!-- RDLabel: "clear" -->
<dd>
<p>Empty a database</p></dd>
<dt><a name="label:79" id="label:79"><code>values</code></a></dt><!-- RDLabel: "values" -->
<dd>
<p>Returns the array of the values in the database.</p></dd>
</dl>

</body>
</html>
